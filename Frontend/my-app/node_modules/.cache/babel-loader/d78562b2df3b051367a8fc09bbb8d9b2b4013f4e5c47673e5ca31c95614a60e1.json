{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import'./App.css';import{Link,useNavigate,useParams}from\"react-router-dom\";import{Helmet}from'react-helmet';import Nav from'./Nav';import Loader from'./Loader';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Blog_Detail=()=>{const navigate=useNavigate();const{id}=useParams();const[blog,setBlog]=useState(null);const[storeComments,setStoreComment]=useState([]);const[comments,setComment]=useState('');let username=localStorage.getItem('Username');useEffect(()=>{fetchBlogDetail();},[id]);const fetchBlogDetail=async()=>{try{const response=await fetch(\"https://patr-202b.onrender.com/postContent/\".concat(id));if(response.ok){const blogDetail=await response.json();setBlog(blogDetail);setStoreComment(blogDetail.comments||[]);console.log('Blog detail fetched successfully.');}else{console.log('Failed to get blog detail from 4040 port.');}}catch(error){console.log('Error while fetching blog detail from server.',error);}};const PostBlogComment=async event=>{event.preventDefault();try{const response=await fetch(\"https://patr-202b.onrender.com/postContent/\".concat(id),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({comments,username})});if(response.ok){console.log('Blog comments posted successfully.');setComment(\"\");fetchBlogDetail();}else{console.log('Failed to post blog comments from server.');}}catch(error){console.log('Error while posting blog comments from server.',error);}};if(!blog){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'300px'},children:/*#__PURE__*/_jsx(Loader,{})})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.gstatic.com\",crossorigin:true}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.gstatic.com\",crossorigin:true}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Oswald:wght@300&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"})]}),/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"blogDetail\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",blog.heading,\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\" \",blog.options,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Posted By - \"}),blog.username,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Posted At - \"}),blog.createdAt.split('T')[0],\" \"]})]}),/*#__PURE__*/_jsx(\"img\",{src:blog.image}),/*#__PURE__*/_jsxs(\"p\",{className:\"p\",children:[\" \",blog.content,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"comments\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{borderBottom:'1px solid black',padding:'0px 0px 20px 0px'},children:\" Comments: \"}),storeComments.map((comment,index)=>/*#__PURE__*/_jsxs(\"div\",{id:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"#\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsxs(\"b\",{children:[\" \",comment.username,\" \"]}),\"  \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",comment.comment,\" \"]})]})]},index))]}),username!=null?/*#__PURE__*/_jsxs(\"form\",{className:\"addComment\",onSubmit:PostBlogComment,children:[/*#__PURE__*/_jsx(\"input\",{required:true,name:\"comments\",type:\"text\",placeholder:\"Like it? Write a comment to tell them.\",onChange:event=>setComment(event.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\" Post \"})]}):/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center',fontSize:'16px'},children:[\" Kindly \",/*#__PURE__*/_jsx(\"span\",{style:{textDecoration:'underline',cursor:'pointer'},onClick:()=>navigate('/signin'),children:\" Sign In \"}),\" to send comments \"]})]});};export default Blog_Detail;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","useParams","Helmet","Nav","Loader","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Blog_Detail","navigate","id","blog","setBlog","storeComments","setStoreComment","comments","setComment","username","localStorage","getItem","fetchBlogDetail","response","fetch","concat","ok","blogDetail","json","console","log","error","PostBlogComment","event","preventDefault","method","headers","body","JSON","stringify","children","style","marginTop","rel","href","crossorigin","name","content","className","heading","options","display","justifyContent","createdAt","split","src","image","borderBottom","padding","map","comment","index","onSubmit","required","type","placeholder","onChange","target","value","textAlign","fontSize","textDecoration","cursor","onClick"],"sources":["C:/Users/user/Documents/GitHub/PATR/Frontend/my-app/src/BlogDetail.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport './App.css'\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport { Helmet } from 'react-helmet';\r\nimport Nav from './Nav';\r\nimport Loader from './Loader';\r\n\r\nconst Blog_Detail = () => {\r\n    const navigate = useNavigate();\r\n    const { id } = useParams();\r\n    const [blog, setBlog] = useState(null);\r\n    const [storeComments, setStoreComment] = useState([]);\r\n    const [comments, setComment] = useState('');\r\n    let username = localStorage.getItem('Username');\r\n\r\n    useEffect(() => {\r\n        fetchBlogDetail();\r\n    }, [id]);\r\n\r\n    const fetchBlogDetail = async () => {\r\n        try{\r\n            const response = await fetch(`https://patr-202b.onrender.com/postContent/${id}`);\r\n            if(response.ok){\r\n                const blogDetail = await response.json();\r\n                setBlog(blogDetail);\r\n                setStoreComment(blogDetail.comments || [])\r\n                console.log('Blog detail fetched successfully.');\r\n            }\r\n            else{\r\n                console.log('Failed to get blog detail from 4040 port.');\r\n            }\r\n        }\r\n        catch(error){\r\n            console.log('Error while fetching blog detail from server.', error);\r\n        }\r\n    }\r\n\r\n    const PostBlogComment = async (event) => {\r\n        event.preventDefault();\r\n        try{\r\n            const response = await fetch(`https://patr-202b.onrender.com/postContent/${id}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ comments, username })\r\n            });\r\n\r\n            if(response.ok){\r\n                console.log('Blog comments posted successfully.');\r\n                setComment(\"\");\r\n                fetchBlogDetail();\r\n            }\r\n            else{\r\n                console.log('Failed to post blog comments from server.');\r\n            }\r\n        }\r\n        catch(error){\r\n            console.log('Error while posting blog comments from server.', error);\r\n        }\r\n    }\r\n\r\n    if (!blog) {\r\n        return (\r\n            <>\r\n            <Nav/>\r\n            <div style={{marginTop: '300px'}}>\r\n                <Loader/>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <Helmet>\r\n            <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\"></link>\r\n            <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin></link>\r\n            <link href=\"https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap\" rel=\"stylesheet\"></link>\r\n            <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\"></link>\r\n            <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin></link>\r\n            <link href=\"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Oswald:wght@300&display=swap\" rel=\"stylesheet\"></link>\r\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"></meta>\r\n        </Helmet>\r\n        <Nav/>\r\n        <div className=\"blogDetail\">\r\n            <h1> {blog.heading} </h1>\r\n            <h2> {blog.options} </h2>\r\n            <div style={{display: 'flex', justifyContent: 'space-between'}}>\r\n                <p> <b>Posted By - </b>{blog.username} </p>\r\n                <p> <b>Posted At - </b>{blog.createdAt.split('T')[0]} </p>\r\n            </div>\r\n            <img src={blog.image}></img>\r\n            <p className=\"p\"> {blog.content} </p>\r\n        </div>\r\n\r\n        <div className=\"comments\">\r\n            <h1 style={{borderBottom: '1px solid black', padding: '0px 0px 20px 0px'}}> Comments: </h1>\r\n            {\r\n                storeComments.map((comment, index) => (\r\n                    <div id=\"content\" key={index}>\r\n                        <div>\r\n                            <img src=\"#\"></img>\r\n                        </div>\r\n                        <div>\r\n                            <p> <b> {comment.username} </b>  </p>\r\n                            <p> {comment.comment} </p>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n        \r\n        {\r\n            username != null ? (\r\n                <form className=\"addComment\" onSubmit={PostBlogComment}>\r\n                    <input required name=\"comments\" type=\"text\" placeholder=\"Like it? Write a comment to tell them.\" onChange={(event) => setComment(event.target.value)}></input>\r\n                    <button type=\"submit\"> Post </button>\r\n                </form>\r\n            ) \r\n            : (\r\n                <p style={{textAlign: 'center', fontSize: '16px'}}> Kindly <span style={{textDecoration: 'underline', cursor: 'pointer'}} onClick={() => navigate('/signin')}> Sign In </span> to send comments </p>\r\n            )\r\n        }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Blog_Detail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}