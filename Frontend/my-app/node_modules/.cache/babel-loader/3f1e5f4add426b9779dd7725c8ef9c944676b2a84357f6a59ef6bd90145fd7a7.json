{"ast":null,"code":"import React,{useState}from\"react\";import'./App.css';import{useNavigate}from\"react-router-dom\";import{Helmet}from'react-helmet';import Nav from'./Nav';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Create_Post=()=>{let username=localStorage.getItem('Username');const Link=useNavigate();const[options,setOption]=useState('');const[heading,setHeading]=useState('');const[content,setContent]=useState('');const[selectedImage,setSelectedImage]=useState(null);const handlePost=async event=>{event.preventDefault();try{const response=await fetch(\"https://patr-202b.onrender.com/postContent\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({options,heading,content,username})});if(response.ok){console.log(\"OK\");let success=document.getElementById('success');success.style.display='block';let failed=document.getElementById('failed');failed.style.display='none';}else{let success=document.getElementById('success');success.style.display='none';let failed=document.getElementById('failed');failed.style.display='block';}}catch(error){console.error('Internal Server Error: ',error);}};const handleImageChange=e=>{if(e.target.files&&e.target.files[0]){const image=e.target.files[0];setSelectedImage(URL.createObjectURL(image));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.gstatic.com\",crossorigin:true}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.gstatic.com\",crossorigin:true}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Oswald:wght@300&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"})]}),/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsxs(\"form\",{className:\"post\",onSubmit:handlePost,children:[/*#__PURE__*/_jsxs(\"select\",{className:\"option\",name:\"options\",required:true,onChange:event=>setOption(event.target.value),children:[/*#__PURE__*/_jsx(\"option\",{children:\"Travel\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Technology\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Health\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Food\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Lifestyle\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Fashion\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Music\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Social Media\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"heading\",type:\"text\",placeholder:\"Write your blog's heading\",minLength:1,maxLength:80,required:true,onChange:event=>setHeading(event.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",type:\"text\",className:\"desc\",placeholder:\"Start writing your blog here\",minLength:100,maxLength:10000,required:true,onChange:event=>setContent(event.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"UPLOAD IMAGE FOR THUMBNAIL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"uname\",children:[\" Username: \",/*#__PURE__*/_jsxs(\"span\",{name:\"username\",children:[\" \",username,\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Publish Post\"}),/*#__PURE__*/_jsx(\"p\",{id:\"success\",style:{display:'none'},children:\" Posted. :) \"}),/*#__PURE__*/_jsx(\"p\",{id:\"failed\",style:{display:'none'},children:\" Connection Problem :( \"})]})]});};export default Create_Post;","map":{"version":3,"names":["React","useState","useNavigate","Helmet","Nav","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Create_Post","username","localStorage","getItem","Link","options","setOption","heading","setHeading","content","setContent","selectedImage","setSelectedImage","handlePost","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","console","log","success","document","getElementById","style","display","failed","error","handleImageChange","e","target","files","image","URL","createObjectURL","children","rel","href","crossorigin","name","className","onSubmit","required","onChange","value","type","placeholder","minLength","maxLength","backgroundColor","accept","id"],"sources":["C:/Documents/GitHub/PATR/Frontend/my-app/src/CreatePost.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport './App.css'\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Helmet } from 'react-helmet';\r\nimport Nav from './Nav';\r\n\r\nconst Create_Post = () => {\r\n    let username = localStorage.getItem('Username');\r\n    const Link = useNavigate();\r\n    const [options, setOption] = useState('');\r\n    const [heading, setHeading] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [selectedImage, setSelectedImage] = useState(null);\r\n\r\n    const handlePost = async (event) => {\r\n         event.preventDefault();\r\n        try{\r\n            const response = await fetch(`https://patr-202b.onrender.com/postContent`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ options, heading, content, username }),\r\n            });\r\n\r\n            if(response.ok){\r\n                console.log(\"OK\");\r\n                let success = document.getElementById('success');\r\n                success.style.display = 'block';\r\n                \r\n                let failed = document.getElementById('failed');\r\n                failed.style.display = 'none';\r\n            }\r\n\r\n            else{\r\n                let success = document.getElementById('success');\r\n                success.style.display = 'none';\r\n                \r\n                let failed = document.getElementById('failed');\r\n                failed.style.display = 'block';\r\n\r\n            }\r\n        }\r\n        catch(error){\r\n            console.error('Internal Server Error: ', error);\r\n        }\r\n    }\r\n\r\n    const handleImageChange = (e) => {\r\n        if(e.target.files && e.target.files[0]){\r\n            const image = e.target.files[0];\r\n            setSelectedImage(URL.createObjectURL(image));\r\n        }\r\n    };\r\n\r\n    return(\r\n        <>\r\n        <Helmet>\r\n            <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\"></link>\r\n            <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin></link>\r\n            <link href=\"https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap\" rel=\"stylesheet\"></link>\r\n            <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\"></link>\r\n            <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin></link>\r\n            <link href=\"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Oswald:wght@300&display=swap\" rel=\"stylesheet\"></link>\r\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"></meta>\r\n        </Helmet>\r\n        <Nav/>\r\n        <form className=\"post\" onSubmit={handlePost}>\r\n            <select className=\"option\" name=\"options\" required onChange={(event) => setOption(event.target.value)}>\r\n                <option>Travel</option>\r\n                <option>Technology</option>\r\n                <option>Health</option>\r\n                <option>Food</option>\r\n                <option>Lifestyle</option>\r\n                <option>Fashion</option>\r\n                <option>Music</option>\r\n                <option>Social Media</option>\r\n            </select><br></br><br></br>\r\n            <input name=\"heading\" type=\"text\" placeholder=\"Write your blog's heading\" minLength={1} maxLength={80} required onChange={(event) => setHeading(event.target.value)}></input><br></br><br></br>\r\n            <textarea name=\"content\" type=\"text\" className=\"desc\" placeholder=\"Start writing your blog here\" minLength={100} maxLength={10000} required onChange={(event) => setContent(event.target.value)}></textarea><br></br><br></br>\r\n            <div style={{backgroundColor: 'white'}}>\r\n                <p>UPLOAD IMAGE FOR THUMBNAIL:</p>\r\n                <input type=\"file\" accept=\"image/*\" onChange={handleImageChange}/>\r\n            </div><br></br>\r\n            <p className=\"uname\"> Username: <span name=\"username\"> {username} </span></p>\r\n            {/* <input type=\"file\"></input> */}\r\n            <button type=\"submit\">Publish Post</button>\r\n            <p id=\"success\" style={{display: 'none'}}> Posted. :) </p>\r\n            <p id=\"failed\" style={{display: 'none'}}> Connection Problem :( </p>\r\n        </form>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Create_Post;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}