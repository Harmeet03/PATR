{"ast":null,"code":"import React,{useState}from\"react\";import'./App.css';import{useNavigate}from\"react-router-dom\";import{Helmet}from'react-helmet';import bg from'./Images/image.png';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Create_Post=()=>{let username=localStorage.getItem('Username');const Link=useNavigate();const[options,setOption]=useState('');const[heading,setHeading]=useState('');const[content,setContent]=useState('');const[image,setImage]=useState(null);const handleImage=e=>{//  FOR IMAGE (ENCODING THE IMAGE'S DATA)\nconst file=e.target.files[0];const reader=new FileReader();reader.onloadend=()=>{setImage(reader.result);};if(file){reader.readAsDataURL(file);}};const handlePost=async event=>{event.preventDefault();try{// const response = await fetch(`http://localhost:4040/postContent`, {\nconst response=await fetch(\"https://patr-202b.onrender.com/postContent\",{method:'POST',mode:\"cors\",headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify({options,heading,content,username,image})});if(response.ok){console.log(\"OK\");let success=document.getElementById('success');success.style.display='block';let failed=document.getElementById('failed');failed.style.display='none';Link('/');}else{let success=document.getElementById('success');success.style.display='none';let failed=document.getElementById('failed');failed.style.display='block';}}catch(error){console.error('Internal Server Error: ',error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.gstatic.com\",crossorigin:true}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.googleapis.com\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"preconnect\",href:\"https://fonts.gstatic.com\",crossorigin:true}),/*#__PURE__*/_jsx(\"link\",{href:\"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Oswald:wght@300&display=swap\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"viewport\",content:\"width=device-width, initial-scale=1.0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left\",children:/*#__PURE__*/_jsx(\"img\",{src:bg})}),/*#__PURE__*/_jsxs(\"form\",{className:\"post\",onSubmit:handlePost,children:[/*#__PURE__*/_jsx(\"span\",{style:{textAlign:'left',cursor:'pointer'},onClick:()=>{Link('/');},children:\" Back \"}),/*#__PURE__*/_jsx(\"h2\",{children:\" Create Post \"}),/*#__PURE__*/_jsxs(\"select\",{className:\"option\",name:\"options\",required:true,onChange:event=>setOption(event.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Travel\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Technology\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Health\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Food\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Lifestyle\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Fashion\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Music\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Social Media\"})]}),/*#__PURE__*/_jsx(\"input\",{name:\"heading\",type:\"text\",placeholder:\"Write your blog's heading\",minLength:1,maxLength:80,required:true,onChange:event=>setHeading(event.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{name:\"content\",type:\"text\",className:\"desc\",placeholder:\"Start writing your blog here\",minLength:100,maxLength:10000,required:true,onChange:event=>setContent(event.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload\",style:{backgroundColor:'rgba(197,208,230, 0.221)',borderRadius:'10px',padding:'0px 0px 10px 0px'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"UPLOAD IMAGE FOR THUMBNAIL:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"image\",type:\"file\",accept:\"image/*\",required:true,onChange:handleImage})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"uname\",children:[\" Username: \",/*#__PURE__*/_jsxs(\"span\",{name:\"username\",children:[\" \",username,\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Publish Post\"}),/*#__PURE__*/_jsx(\"p\",{id:\"success\",style:{display:'none'},children:\" Posted. :) \"}),/*#__PURE__*/_jsx(\"p\",{id:\"failed\",style:{display:'none'},children:\" Connection Problem :( \"})]})]})]});};export default Create_Post;","map":{"version":3,"names":["React","useState","useNavigate","Helmet","bg","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Create_Post","username","localStorage","getItem","Link","options","setOption","heading","setHeading","content","setContent","image","setImage","handleImage","e","file","target","files","reader","FileReader","onloadend","result","readAsDataURL","handlePost","event","preventDefault","response","fetch","method","mode","headers","body","JSON","stringify","ok","console","log","success","document","getElementById","style","display","failed","error","children","rel","href","crossorigin","name","className","src","onSubmit","textAlign","cursor","onClick","required","onChange","value","type","placeholder","minLength","maxLength","backgroundColor","borderRadius","padding","accept","id"],"sources":["C:/Users/user/Documents/GitHub/PATR/Frontend/my-app/src/CreatePost.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport './App.css'\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Helmet } from 'react-helmet';\r\nimport bg from './Images/image.png'\r\n\r\nconst Create_Post = () => {\r\n    let username = localStorage.getItem('Username');\r\n    const Link = useNavigate();\r\n    const [options, setOption] = useState('');\r\n    const [heading, setHeading] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [image, setImage] = useState(null);\r\n\r\n    const handleImage = (e) => {\r\n        //  FOR IMAGE (ENCODING THE IMAGE'S DATA)\r\n        const file = e.target.files[0];\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => {\r\n            setImage(reader.result);\r\n        }\r\n    \r\n        if(file){\r\n            reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n    const handlePost = async (event) => {\r\n         event.preventDefault();\r\n        try{\r\n            // const response = await fetch(`http://localhost:4040/postContent`, {\r\n            const response = await fetch(`https://patr-202b.onrender.com/postContent`, {\r\n                method: 'POST',\r\n                mode: \"cors\",\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify({ options, heading, content, username, image }),\r\n            });\r\n\r\n            if(response.ok){\r\n                console.log(\"OK\");\r\n                let success = document.getElementById('success');\r\n                success.style.display = 'block';\r\n                \r\n                let failed = document.getElementById('failed');\r\n                failed.style.display = 'none';\r\n\r\n                Link('/');\r\n            }\r\n\r\n            else{\r\n                let success = document.getElementById('success');\r\n                success.style.display = 'none';\r\n                \r\n                let failed = document.getElementById('failed');\r\n                failed.style.display = 'block';\r\n\r\n            }\r\n        }\r\n        catch(error){\r\n            console.error('Internal Server Error: ', error);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <Helmet>\r\n            <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\"></link>\r\n            <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin></link>\r\n            <link href=\"https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap\" rel=\"stylesheet\"></link>\r\n            <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\"></link>\r\n            <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin></link>\r\n            <link href=\"https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Oswald:wght@300&display=swap\" rel=\"stylesheet\"></link>\r\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"></link>\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"></meta>\r\n        </Helmet>\r\n        <div className=\"create\">\r\n            <div className=\"left\">\r\n                <img src={bg}/>\r\n            </div>\r\n            <form className=\"post\" onSubmit={handlePost}>\r\n                <span style={{textAlign: 'left', cursor: 'pointer'}} onClick={() => {Link('/')}}> Back </span>\r\n                <h2> Create Post </h2>\r\n                <select className=\"option\" name=\"options\" required onChange={(event) => setOption(event.target.value)}>\r\n                    <option value=''>Select Category</option>\r\n                    <option>Travel</option>\r\n                    <option>Technology</option>\r\n                    <option>Health</option>\r\n                    <option>Food</option>\r\n                    <option>Lifestyle</option>\r\n                    <option>Fashion</option>\r\n                    <option>Music</option>\r\n                    <option>Social Media</option>\r\n                </select>\r\n                <input name=\"heading\" type=\"text\" placeholder=\"Write your blog's heading\" minLength={1} maxLength={80} required onChange={(event) => setHeading(event.target.value)}></input>\r\n                <textarea name=\"content\" type=\"text\" className=\"desc\" placeholder=\"Start writing your blog here\" minLength={100} maxLength={10000} required onChange={(event) => setContent(event.target.value)}></textarea>\r\n                <div className=\"upload\" style={{backgroundColor: 'rgba(197,208,230, 0.221)', borderRadius: '10px', padding: '0px 0px 10px 0px'}}>\r\n                    <p>UPLOAD IMAGE FOR THUMBNAIL:</p>\r\n                    <input name=\"image\" type=\"file\" accept=\"image/*\" required onChange={handleImage}/>\r\n                </div>\r\n                <p className=\"uname\"> Username: <span name=\"username\"> {username} </span></p>\r\n                {/* <input type=\"file\"></input> */}\r\n                <button type=\"submit\">Publish Post</button>\r\n                <p id=\"success\" style={{display: 'none'}}> Posted. :) </p>\r\n                <p id=\"failed\" style={{display: 'none'}}> Connection Problem :( </p>\r\n            </form>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Create_Post;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}